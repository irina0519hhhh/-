// Реализовать программу-калькулятор с возможностью выполнения арифметических действий (+, -), унарный и бинарный вариант. 
У пользователя запрашивается выражение, например, "-123,5 + 4 - 456+56", программа должна решить выражение. 
Для разбора входной строки использовать функцию strok

#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <ctype.h>

double parseExpression(char* expression) {
    double result = 0.0;
    int sign = 1;
    char* token = strtok(expression, " +-");

    while (token != NULL) {
        if (strcmp(token, "-") == 0) {
            sign = -1;  // Помним, что следующее число будет отрицательным
        } else if (strcmp(token, "+") == 0) {
            sign = 1;  // Помним, что следующее число будет положительным
        } else {
            // Если первый символ в токене - это минус, меняем знак и обрезаем строку
            if (token[0] == '-' && isdigit(token[1])) {
                result += sign * atof(token + 1);
            } else {
                result += sign * atof(token); // Учитываем знак операнда
            }
        }
        token = strtok(NULL, " ");
    }

    return result;
}

int main() {
    char input[100];
    printf("Введите арифметическое выражение: ");
    fgets(input, 100, stdin);

    double result = parseExpression(input);

    printf("Результат: %f\n", result);

    return 0;
}
