//создать файл input.txt, в который поместить N случайных чисел, размера, заданного с консоли. Массивы очистить. Закрыть файл
//открыть файл input.txt и прочитать все значения. 
//Все числа % на 5 заменить на слово "ПЯТЬ", % на 7 - на"СЕМЬ", % на 7 и 5 - "СЕМЬПЯТЬ". Вывести результат в файл output.txt
//...........................
//замерить время работы программы


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>


int main ()
{
    char line[256];
    FILE *file = fopen("input.txt", "wt");
    FILE *new_file = fopen("output.txt", "wt");
    int *mass;
    int n;

    printf("Введите размер массива: ");
    scanf("%d", &n);

    // Выделение памяти для одномерного массива
    mass = (int *)malloc(n * sizeof(int));
   
    // Записываем случайные числа в файл
    fprintf(file, "массив чисел:\n");
    for (int i = 0; i < n; i++) {
        fprintf(file, "%d\n", rand() % 100); // случайное число от 0 до 9
    }
   
    fclose(file);
    printf("Данные записаны в файл input.txt.\n");
    
    // Освобождение выделенной памяти
    free(mass);
    
    // Открываем файл и читаем значения на консоль
    file = fopen("input.txt", "rt");
    
    int result = atoi(line);
    while (fgets(line, 256, file)) 
    {
        if (result == '\n')
        {
            printf("%d", result); // выводим числа
        }
    }
  
    for (int i = 0; i < n; i++) 
    {
        if (mass[i] % 5 == 0 && mass[i] % 7 == 0) 
        {
            fprintf(new_file, "FIVESEVEN\n");
        } else if (mass[i] % 5 == 0) { 
            fprintf(new_file, "FIVE\n");
        } else if (mass[i] % 7 == 0) { 
            fprintf(new_file, "SEVEN\n");
        } else {
            fprintf(new_file, "%d\n", mass[i]);
        }
    }
    
    fclose(file);
    fclose(new_file);
    
    return 0;
}
