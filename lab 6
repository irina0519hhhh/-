/*ЗАДАНИЕ 6
Создать текстовый файл с записями следующего вида:
Иванов Петр Сергеевич 1975
Сидоров Николай Андреевич 1981
….
Воробьянинов Ипполит Матвеевич 1978
Прочитать данные из этого файла и записать в другой только те строки, которые относятся к родившимся позднее 1980 года.*/


#include<stdio.h>
#include<string.h>

int main ()
{
  char s[5], line[256]; 
  int substr;
  size_t len;
  FILE *f1;
  f1 = fopen("lab6.txt", "rt");
 /* fprintf(f1, "Иванов Петр Сергеевич 1975\nСидоров Николай Андреевич 1981\nВоробьянинов Ипполит Матвеевич 1978\nИванов Петр Сергеевич 1975\nСидоров Николай Андреевич 1981\nВоробьянинов Ипполит Матвеевич 1978\nИванов Петр Сергеевич 1975\nСидоров Николай Андреевич 1981\nВоробьянинов Ипполит Матвеевич 1908");
 */
    if(f1)
    {
        // пока не дойдем до конца, считываем 
        while((fgets(line, 256, f1)))
        {
            // printf("%s", line);
            for (int i = 0; i < strlen(line); i++)
            {
                for (int substr = 0; substr < strlen(line); substr++)
                {
                    len = strlen(line);
                 substr = len-5;
                 strncpy(s, &line[substr], 5);
                 printf("%s", s);
                 }
            }
        }
    }
  fclose(f1);
  
//   f1 = fopen("lab6666.txt", "wt");
//   fprintf(f1, "%s", s);
  
//   fclose(f1);
  return 0;
}
